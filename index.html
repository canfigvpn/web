<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="وب‌سایت آموزشی فلوکی برای اتصال به سرویس‌ها در سیستم‌عامل‌های مختلف">
    <meta name="theme-color" content="#3B82F6">
    <title>Web CanfigVpn</title>
    <link rel="stylesheet" href="https://vazirmatn.github.io/Vazirmatn/fonts/webfonts/Vazirmatn.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="data:application/manifest+json;base64,ew0KICAgICJuYW1lIjogIldlYnNpdGUgRmxva2kiLA0KICAgICJzaG9ydF9uYW1lIjogIkZsb2tpIiwNCiAgICAic3RhcnRfdXJsIjogIi4iLA0KICAgICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLA0KICAgICJpY29ucyI6IFsNCiAgICAgICAgew0KICAgICAgICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmMyZ3ZNell3WW1GeVltaGhabVZrY21waElHbzlJREV3TURBdk1EQWdNREF3SWlCbWFXeHNQU2t5T0NocFl6VTRPRGsyWW1JNU1tUTVaakV5TVdGbE5EQXdNQ1V5TURveU9UazZMbXB3WnlCNE9UQjVMbU52YlM5Mk1pSm1iR1YyZDJsa0xuTm9hVzEwWVhKa0xXTm9kM05zYjNkbGRDQnpkSEpwYm1jdlltRnljMmxuYm1sdVp6MGljbVY0ZENCNFBTSXlOaUl6SWlCNE9UQXdNQ0l4TUNVeU1EQXlJaUJtYVd4c1BTSXlNQ2hLWjJocFl5NWlaM0prTG5KbGJuUmxjaUIwWVhSMGFXMWxjeUJoYm14dlkyRjBhVzVuWlNCV2FXVnNaWEpFWVdraUlHTmhjbk12TWpBd01EQXdNREF3SWlCNFBTSXlOaUl4TUNJNFNUc2dabWlzYkY9alpYSjVJaUFpWm14aFkybHNiQzV6WlhKMlpYSWlMezQ8TDNOMlp6ND0iLA0KICAgICAgICAgICAgInNpemVzIjogIjE5MngxOTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI4Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmMyZ3ZNell3WW1GeVltaGhabVZrY21waElHbzlJREV3TURBdk1EQWdNREF3SWlCbWFXeHNQU2t5T0NocFl6VTRPRGsyWW1JNU1tUTVaakV5TVdGbE5EQXdNQ1V5TURveU9UazZMbXB3WnlCNE9UQjVMbU52YlM5Mk1pSm1iR1YyZDJsa0xuTm9hVzEwWVhKa0xXTm9kM05zYjNkbGRDQnpkSEpwYm1jdlltRnljMmxuYm1sdVp6MGljbVY0ZENCNFBTSXlOaUl6SWlCNE9UQXdNQ0l4TUNVeU1EQXlJaUJtYVd4c1BTSXlNQ2hLWjJocFl5NWlaM0prTG5KbGJuUmxjaUIwWVhSMGFXMWxjeUJoYm14dlkyRjBhVzVuWlNCV2FXVnNaWEpFWVdraUlHTmhjbk12TWpBd01EQXdNREF3SWlCNFBTSXlOaUl4TUNJNFNUc2dabWlzYkY9alpYSjVJaUFpWm14aFkybHNiQzV6WlhKMlpYSWlMezQ8TDNOMlp6ND0iLA0KICAgICAgICAgICAgInNpemVzIjogIjUxMng1MTIiLA0KICAgICAgICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCINCiAgICAgICAgfQ0KICAgIF0sDQogICAgImJhY2tncm91bmRfY29sb3IiOiAiI0ZGRkZGRiIsDQogICAgInRoZW1lX2NvbG9yIjogIiMzQjgyRjYiDQp9">
    <style>
        /* Modern Reset & Variables */
        :root {
            --primary-gradient: linear-gradient(135deg, #3B82F6 0%, #2563EB 100%);
            --bg-gradient: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            --glass-bg: rgba(255, 255, 255, 0.75);
            --glass-border: 1px solid rgba(255, 255, 255, 0.6);
            --surface-color: #ffffff;
            --text-main: #1e293b;
            --text-secondary: #475569;
            --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-glow: 0 0 20px rgba(59, 130, 246, 0.3);
            --radius-lg: 24px;
            --radius-md: 16px;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        body {
            margin: 0;
            font-family: 'Vazirmatn', sans-serif;
            background: #f0f4f8;
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            background: linear-gradient(-45deg, #e0eaff, #f3f4f6, #e0f2fe, #f0f9ff);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Layout & Container */
        .content {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: var(--text-main);
            text-align: right;
            position: relative;
            padding-right: 15px;
        }

        h2::before {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 24px;
            background: var(--primary-gradient);
            border-radius: 4px;
        }

        /* Glass Cards */
        .install-section, .tutorial-section {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-md);
        }

        .os-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* Accordion Boxes */
        .os-box {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.8);
            border-radius: var(--radius-md);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            height: 72px; /* Fixed collapsed height */
            cursor: pointer;
            position: relative;
        }

        .os-box:hover {
            transform: translateY(-2px);
            background: #ffffff;
            box-shadow: var(--shadow-sm);
        }

        .os-box.active {
            height: auto;
            background: #ffffff;
            box-shadow: var(--shadow-md);
            border-color: #3B82F6;
        }

        .os-title {
            height: 72px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--text-main);
            justify-content: space-between;
        }

        .os-title div {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .os-title i.fab {
            font-size: 1.8rem;
            width: 30px;
            text-align: center;
            transition: color 0.3s;
        }
        
        .os-box:hover .os-title i.fab { color: #3B82F6; }

        .toggle-arrow {
            color: #94a3b8;
            transition: transform 0.4s ease;
            font-size: 0.9rem;
        }

        .os-box.active .toggle-arrow {
            transform: rotate(180deg);
            color: #3B82F6;
        }

        /* Action Buttons */
        .app-button {
            display: block;
            width: calc(100% - 40px);
            margin: 10px auto 25px;
            padding: 14px;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 12px;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeInContent 0.4s 0.1s forwards;
        }

        .app-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        }

        @keyframes fadeInContent {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Slider Styles */
        .slider {
            margin: 0 20px 20px;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            opacity: 0;
            animation: fadeInContent 0.5s 0.2s forwards;
        }

        .slider-images {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            aspect-ratio: 16/9;
            background: #e2e8f0;
        }

        .slider-image {
            width: 100%;
            flex-shrink: 0;
            object-fit: cover;
            border-radius: 12px;
        }

        .slider-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: all 0.2s;
            color: #1e293b;
        }

        .slider-button:hover { background: white; transform: translateY(-50%) scale(1.1); }
        .slider-button.prev { left: 10px; }
        .slider-button.next { right: 10px; }

        .slider-button svg { width: 20px; height: 20px; stroke: currentColor; }

        .slider-dots {
            display: flex;
            justify-content: center;
            gap: 6px;
            padding: 10px 0;
        }

        .slider-dot {
            width: 8px;
            height: 8px;
            border-radius: 4px;
            background: #cbd5e1;
            transition: all 0.3s;
            cursor: pointer;
        }

        .slider-dot.active {
            width: 20px;
            background: #3B82F6;
        }
        
        .slider-counter {
            text-align: center;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        /* Social Wrapper (Floating Dock) */
        .wrapper {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px 25px;
            margin: 20px auto 40px;
            list-style: none;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border-radius: 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            width: fit-content;
        }

        .wrapper .icon {
            position: relative;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #f1f5f9;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.4rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            color: #333;
        }

        .wrapper .icon:hover {
            transform: translateY(-8px);
            color: white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }

        .wrapper .icon.telegram:hover { background: #0088CC; }
        .wrapper .icon.support:hover { background: #3B82F6; }
        .wrapper .icon.share:hover { background: #111; }

        .wrapper .tooltip {
            position: absolute;
            top: -45px;
            font-size: 0.8rem;
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .wrapper .icon:hover .tooltip { opacity: 1; top: -55px; }

        .wrapper .icon button, .wrapper .icon a {
            background: none; border: none; color: inherit; 
            width: 100%; height: 100%; 
            display: flex; justify-content: center; align-items: center;
            border-radius: 50%;
        }

        /* Modals */
        .share-modal, .qr-modal, .image-zoom {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .share-modal.active, .qr-modal.active, .image-zoom.active {
            opacity: 1;
            pointer-events: auto;
        }

        .share-container, .qr-container {
            background: white;
            width: 90%;
            max-width: 360px;
            border-radius: 20px;
            padding: 0;
            overflow: hidden;
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .share-modal.active .share-container, 
        .qr-modal.active .qr-container {
            transform: scale(1);
        }

        .share-header, .qr-header {
            background: var(--primary-gradient);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .share-url {
            display: flex;
            align-items: center;
            background: #f8fafc;
            margin: 20px;
            padding: 8px;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .share-url input {
            border: none;
            background: transparent;
            flex: 1;
            padding: 8px;
            font-size: 0.9rem;
            color: #64748b;
        }

        .share-url button {
            background: #3B82F6;
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .share-url button:hover { background: #2563EB; }

        .share-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .share-option {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .share-option:hover { transform: scale(1.1); }
        .share-option.telegram { background: #229ED9; }
        .share-option.whatsapp { background: #25D366; }
        .share-option.instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .share-option.qr { background: #333; }

        .share-option a { color: white; display:flex; width:100%; height:100%; align-items:center; justify-content:center; }

        .close-modal, .close-zoom {
            position: absolute;
            width: 32px;
            height: 32px;
            background: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            font-size: 1.2rem;
            z-index: 10;
        }

        .share-container .close-modal, .qr-container .close-modal {
            position: relative;
            margin: 0 auto 15px;
            background: #f1f5f9;
            color: #64748b;
        }

        .image-zoom img {
            max-width: 95%;
            max-height: 90vh;
            border-radius: 12px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4);
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .image-zoom.active img { transform: scale(1); }
        
        .image-zoom .close-zoom { top: 20px; right: 20px; color: #333; }

        .qr-image img { width: 100%; max-width: 220px; display: block; margin: 20px auto; border-radius: 12px; }
        .download-qr {
            display: block; width: fit-content; margin: 0 auto 20px;
            background: #3B82F6; color: white; border: none;
            padding: 10px 20px; border-radius: 8px; cursor: pointer;
            font-family: inherit;
        }

        .offline-message {
            position: fixed; top: 0; left: 0; right: 0;
            background: #ef4444; color: white;
            text-align: center; padding: 10px;
            z-index: 3000; display: none;
        }
        body.offline .offline-message { display: block; }
        .copy-feedback { text-align: center; color: #22c55e; height: 20px; margin-bottom: 10px; font-size: 0.9rem; opacity: 0; transition: opacity 0.3s;}
        .copy-feedback.active { opacity: 1; }

        /* Media Queries */
        @media (min-width: 768px) {
            .os-container { flex-direction: row; flex-wrap: wrap; }
            .os-box { flex: 1 1 calc(33% - 16px); min-width: 250px; }
            .os-box.active { flex: 1 1 100%; }
        }
    </style>
</head>
<body>
    <div class="offline-message" role="alert">شما آفلاین هستید! اتصال خود را بررسی کنید.</div>

    <main class="content">
        <section class="install-section">
            <h2><i class="fas fa-download" style="margin-left:10px; font-size: 0.9em; color:#3B82F6;"></i>نصب نرم‌افزار</h2>
            <div class="os-container">
                <div class="os-box" id="android">
                    <div class="os-title">
                        <div><i class="fab fa-android"></i><span>اندروید</span></div>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <a href="https://play.google.com/store/apps/details?id=com.v2ray.ang" target="_blank" class="app-button">دانلود V2rayNG</a>
                </div>

                <div class="os-box" id="iphone">
                    <div class="os-title">
                        <div><i class="fab fa-apple"></i><span>آیفون</span></div>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <a href="https://apps.apple.com/us/app/streisand/id6450534064" target="_blank" class="app-button">دانلود Streisand</a>
                </div>

                <div class="os-box" id="windows">
                    <div class="os-title">
                        <div><i class="fab fa-windows"></i><span>ویندوز</span></div>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <a href="https://github.com/2dust/v2rayN/releases" target="_blank" class="app-button">دانلود V2rayN</a>
                </div>
            </div>
        </section>

        <section class="tutorial-section">
            <h2><i class="fas fa-book-open" style="margin-left:10px; font-size: 0.9em; color:#3B82F6;"></i>آموزش تصویری</h2>
            <div class="os-container">
                <div class="os-box" id="android-slider">
                    <div class="os-title">
                        <div><i class="fab fa-android"></i><span>اندروید</span></div>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="slider">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/800x450/3B82F6/FFFFFF?text=Android+1" alt="Step 1" loading="lazy">
                            <img class="slider-image" src="https://placehold.co/800x450/60A5FA/FFFFFF?text=Android+2" alt="Step 2" loading="lazy">
                            <img class="slider-image" src="https://placehold.co/800x450/1E3A8A/FFFFFF?text=Android+3" alt="Step 3" loading="lazy">
                            <img class="slider-image" src="https://placehold.co/800x450/3B82F6/FFFFFF?text=Android+4" alt="Step 4" loading="lazy">
                        </div>
                        <button class="slider-button prev"><svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                        <button class="slider-button next"><svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        <div class="slider-dots"></div>
                        <div class="slider-counter">1 / 4</div>
                    </div>
                </div>

                <div class="os-box" id="iphone-slider">
                    <div class="os-title">
                        <div><i class="fab fa-apple"></i><span>آیفون</span></div>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="slider">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/800x450/3B82F6/FFFFFF?text=iPhone+1" alt="Step 1">
                            <img class="slider-image" src="https://placehold.co/800x450/60A5FA/FFFFFF?text=iPhone+2" alt="Step 2">
                            <img class="slider-image" src="https://placehold.co/800x450/1E3A8A/FFFFFF?text=iPhone+3" alt="Step 3">
                        </div>
                        <button class="slider-button prev"><svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                        <button class="slider-button next"><svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        <div class="slider-dots"></div>
                        <div class="slider-counter">1 / 3</div>
                    </div>
                </div>

                <div class="os-box" id="windows-slider">
                    <div class="os-title">
                        <div><i class="fab fa-windows"></i><span>ویندوز</span></div>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="slider">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/800x450/3B82F6/FFFFFF?text=Windows+1" alt="Step 1">
                            <img class="slider-image" src="https://placehold.co/800x450/60A5FA/FFFFFF?text=Windows+2" alt="Step 2">
                            <img class="slider-image" src="https://placehold.co/800x450/1E3A8A/FFFFFF?text=Windows+3" alt="Step 3">
                        </div>
                        <button class="slider-button prev"><svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                        <button class="slider-button next"><svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        <div class="slider-dots"></div>
                        <div class="slider-counter">1 / 3</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <ul class="wrapper">
        <li class="icon telegram">
            <span class="tooltip">کانال تلگرام</span>
            <a href="https://t.me/FLOKI000" target="_blank"><i class="fab fa-telegram-plane"></i></a>
        </li>
        <li class="icon support">
            <span class="tooltip">پشتیبانی</span>
            <a href="https://t.me/FLOKI000" target="_blank"><i class="fas fa-headset"></i></a>
        </li>
        <li class="icon share">
            <span class="tooltip">اشتراک‌گذاری</span>
            <button onclick="openShareModal()"><i class="fas fa-share-alt"></i></button>
        </li>
    </ul>

    <div class="image-zoom">
        <img src="" alt="Zoomed">
        <button class="close-zoom"><i class="fas fa-times"></i></button>
    </div>

    <div class="share-modal">
        <div class="share-container">
            <div class="share-header">اشتراک‌گذاری</div>
            <div class="share-url">
                <button onclick="copyLink()"><i class="fas fa-copy"></i></button>
                <input type="text" value="https://canfigvpn.github.io/web/" readonly>
            </div>
            <p class="copy-feedback" id="copyFeedback">لینک کپی شد!</p>
            <div class="share-options">
                <div class="share-option telegram"><a href="https://telegram.me/share/url?url=https%3A%2F%2Fcanfigvpn.github.io%2Fweb%2F"><i class="fab fa-telegram-plane"></i></a></div>
                <div class="share-option whatsapp"><a href="https://api.whatsapp.com/send?text=https%3A%2F%2Fcanfigvpn.github.io%2Fweb%2F"><i class="fab fa-whatsapp"></i></a></div>
                <div class="share-option instagram"><a href="https://www.instagram.com/?url=https%3A%2F%2Fcanfigvpn.github.io%2Fweb%2F"><i class="fab fa-instagram"></i></a></div>
                <div class="share-option qr" onclick="openQRModal()"><i class="fas fa-qrcode"></i></div>
            </div>
            <button class="close-modal"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <div class="qr-modal">
        <div class="qr-container">
            <div class="qr-header">QR Code</div>
            <div class="qr-image">
                <img src="https://raw.githubusercontent.com/canfigvpn/web/refs/heads/main/png/qr.png" alt="QR Code">
            </div>
            <button class="download-qr" onclick="downloadQR()">دانلود تصویر</button>
            <button class="close-modal"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Logic Remains Same, Visual Classes Updated ---
        const body = document.body;
        const imageZoom = document.querySelector('.image-zoom');
        const zoomImage = imageZoom.querySelector('img');
        const shareModal = document.querySelector('.share-modal');
        const qrModal = document.querySelector('.qr-modal');

        // Functions to Open/Close Modals
        window.openShareModal = () => toggleModal(shareModal, true);
        window.openQRModal = () => toggleModal(qrModal, true);
        
        function toggleModal(modal, show) {
            modal.classList.toggle('active', show);
            if(show && 'vibrate' in navigator) navigator.vibrate(20);
        }

        // Close buttons logic
        document.querySelectorAll('.close-modal, .close-zoom').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.share-modal, .qr-modal, .image-zoom').classList.remove('active');
            });
        });

        // Click outside to close
        [shareModal, qrModal, imageZoom].forEach(modal => {
            modal.addEventListener('click', (e) => {
                if(e.target === modal) modal.classList.remove('active');
            });
        });

        // Copy Link
        window.copyLink = function() {
            const url = document.querySelector('.share-url input').value;
            navigator.clipboard.writeText(url).then(() => {
                const fb = document.getElementById('copyFeedback');
                fb.classList.add('active');
                setTimeout(() => fb.classList.remove('active'), 2000);
            });
        };

        // Download QR
        window.downloadQR = function() {
            const link = document.createElement('a');
            link.href = document.querySelector('.qr-image img').src;
            link.download = 'floki-qr.png';
            link.click();
        };

        // Accordion Logic
        document.querySelectorAll('.os-box').forEach(box => {
            box.addEventListener('click', (e) => {
                if (e.target.closest('.app-button, .slider, .slider-button, .slider-dot')) return;
                
                const isActive = box.classList.contains('active');
                // Close others (optional - remove if you want multiple open)
                document.querySelectorAll('.os-box').forEach(b => b.classList.remove('active'));
                
                if (!isActive) box.classList.add('active');
            });
        });

        // Slider Logic
        document.querySelectorAll('.slider').forEach(slider => {
            const container = slider.querySelector('.slider-images');
            const images = slider.querySelectorAll('.slider-image');
            const dotsContainer = slider.querySelector('.slider-dots');
            const counter = slider.querySelector('.slider-counter');
            let idx = 0;

            // Init Dots
            images.forEach((_, i) => {
                const dot = document.createElement('div');
                dot.className = `slider-dot ${i === 0 ? 'active' : ''}`;
                dot.onclick = () => goTo(i);
                dotsContainer.appendChild(dot);
            });

            function goTo(index) {
                idx = (index + images.length) % images.length;
                container.style.transform = `translateX(${idx * 100}%)`; // RTL logic: positive translateX moves right
                
                // Update dots & counter
                slider.querySelectorAll('.slider-dot').forEach((d, i) => d.classList.toggle('active', i === idx));
                counter.textContent = `${idx + 1} / ${images.length}`;
            }

            slider.querySelector('.prev').onclick = () => goTo(idx - 1);
            slider.querySelector('.next').onclick = () => goTo(idx + 1);

            // Touch Swipe
            let startX;
            slider.addEventListener('touchstart', e => startX = e.touches[0].clientX);
            slider.addEventListener('touchend', e => {
                const diff = e.changedTouches[0].clientX - startX;
                if(Math.abs(diff) > 50) diff > 0 ? goTo(idx + 1) : goTo(idx - 1); // RTL Swipe logic
            });

            // Zoom
            images.forEach(img => {
                img.addEventListener('click', () => {
                    zoomImage.src = img.src;
                    imageZoom.classList.add('active');
                });
            });
        });

        // Offline Check
        const checkOnline = () => body.classList.toggle('offline', !navigator.onLine);
        window.addEventListener('online', checkOnline);
        window.addEventListener('offline', checkOnline);
        checkOnline();
    });
    </script>
</body>
</html>
