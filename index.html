<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Floki VPN - Luxury Gold Edition">
    <meta name="theme-color" content="#000000">
    <title>Floki VPN | نسخه طلایی</title>
    <link rel="stylesheet" href="https://vazirmatn.github.io/Vazirmatn/fonts/webfonts/Vazirmatn.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --gold-primary: #d4af37;
            --gold-gradient: linear-gradient(135deg, #f9e29d 0%, #d4af37 45%, #aa841e 100%);
            --black-bg: #0a0a0a;
            --glass-black: rgba(20, 20, 20, 0.9);
            --text-white: #ffffff;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }

        body {
            margin: 0;
            font-family: 'Vazirmatn', sans-serif;
            min-height: 100vh;
            background-color: var(--black-bg);
            background-image: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #0a0a0a 100%);
            color: var(--text-white);
            overflow-x: hidden;
            padding-bottom: 120px;
        }

        .content { padding: 20px; width: 100%; margin: 0 auto; max-width: 1100px; }

        h2 {
            font-size: 1.4rem; font-weight: 800; margin-bottom: 25px; color: var(--gold-primary);
            display: flex; align-items: center; gap: 12px;
        }

        h2::after { content: ''; flex: 1; height: 1px; background: linear-gradient(to left, var(--gold-primary), transparent); opacity: 0.3; }

        .glass-section {
            background: var(--glass-black); backdrop-filter: blur(15px);
            border: 1px solid rgba(212, 175, 55, 0.2); border-radius: 30px;
            padding: 25px; margin-bottom: 30px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
        }

        .os-container { display: grid; gap: 15px; grid-template-columns: 1fr; }
        @media (min-width: 768px) { .os-container { grid-template-columns: repeat(3, 1fr); } }

        /* --- استایل آکاردئون --- */
        .os-box {
            background: #111; border: 1px solid #222; border-radius: 20px;
            overflow: hidden; transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1); 
            max-height: 75px; cursor: pointer; position: relative;
        }

        .os-box.active {
            max-height: 1000px; background: #161616; border-color: var(--gold-primary);
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.15);
        }

        .os-title {
            height: 75px; display: flex; align-items: center; padding: 0 20px; justify-content: space-between;
        }

        .os-title div { display: flex; align-items: center; gap: 12px; font-weight: 700; }
        .os-title i { font-size: 1.6rem; color: var(--gold-primary); }

        .toggle-arrow { color: #444; transition: 0.4s; }
        .os-box.active .toggle-arrow { transform: rotate(180deg); color: var(--gold-primary); }

        /* --- محتوا و دکمه‌ها --- */
        .app-button {
            display: block; width: calc(100% - 40px); margin: 10px auto 25px;
            padding: 14px; background: var(--gold-gradient); color: #000;
            border-radius: 12px; font-weight: 800; text-align: center; text-decoration: none;
            transition: 0.3s; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.2); border:none; cursor: pointer;
        }

        /* --- استایل بخش سرور --- */
        .server-area {
            background: #000; border: 1px solid #333; border-radius: 15px;
            padding: 15px; width: calc(100% - 30px); margin: 10px auto; height: 150px;
            color: #00ff00; font-family: monospace; font-size: 11px;
            resize: none; direction: ltr; text-align: left; display: block;
        }
        .refresh-note {
            font-size: 0.8rem; color: #aaa; text-align: center; margin-bottom: 20px;
            display: block; padding: 0 20px; line-height: 1.5;
        }

        /* --- اسلایدر آموزشی --- */
        .slider { margin: 0 15px 15px; position: relative; border-radius: 15px; overflow: hidden; border: 1px solid #333; }
        .slider-images { display: flex; transition: 0.5s ease-in-out; aspect-ratio: 16/9; }
        .slider-image { width: 100%; flex-shrink: 0; object-fit: cover; }
        .slider-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            width: 35px; height: 35px; border-radius: 50%; background: rgba(0,0,0,0.8);
            border: 1px solid var(--gold-primary); color: var(--gold-primary); cursor: pointer; z-index: 5;
        }
        .dots { display: flex; justify-content: center; gap: 5px; padding: 10px; }
        .dot { width: 6px; height: 6px; background: #333; border-radius: 50%; transition: 0.3s; }
        .dot.active { width: 15px; background: var(--gold-primary); border-radius: 10px; }

        /* --- داک و مودال --- */
        .dock-container { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); z-index: 1000; }
        .dock-wrapper {
            display: flex; gap: 20px; padding: 12px 25px; background: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(15px); border: 1px solid var(--gold-primary); border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }
        .dock-item {
            width: 50px; height: 50px; border-radius: 15px; display: flex; justify-content: center; align-items: center;
            font-size: 1.4rem; color: var(--gold-primary); background: #222; border: 1px solid #333; cursor: pointer; transition: 0.3s;
        }
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px);
            z-index: 2000; display: none; align-items: center; justify-content: center; padding: 20px;
        }
        .modal-box { background: #111; width: 100%; max-width: 400px; border-radius: 25px; border: 1px solid var(--gold-primary); overflow: hidden; }
        .modal-header { background: var(--gold-gradient); color: #000; padding: 15px; text-align: center; font-weight: 800; }
    </style>
</head>
<body>

    <main class="content">
        <section class="glass-section">
            <h2><i class="fas fa-download"></i>دریافت نرم‌افزار</h2>
            <div class="os-container">
                <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                    <div class="os-title"><div><i class="fab fa-android"></i>اندروید</div><i class="fas fa-chevron-down toggle-arrow"></i></div>
                    <a href="#" class="app-button">دانلود V2rayNG</a>
                </div>
                <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                    <div class="os-title"><div><i class="fab fa-apple"></i>آیفون</div><i class="fas fa-chevron-down toggle-arrow"></i></div>
                    <a href="#" class="app-button">دانلود Streisand</a>
                </div>
                <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                    <div class="os-title"><div><i class="fab fa-windows"></i>ویندوز</div><i class="fas fa-chevron-down toggle-arrow"></i></div>
                    <a href="#" class="app-button">دانلود V2rayN</a>
                </div>
            </div>
        </section>

        <section class="glass-section">
            <h2><i class="fas fa-graduation-cap"></i>راهنمای نصب و اتصال</h2>
            <div class="os-container">
                <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                    <div class="os-title"><div><i class="fab fa-android"></i>آموزش اندروید</div><i class="fas fa-chevron-down toggle-arrow"></i></div>
                    <div class="slider" data-idx="0">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/600x400/111/d4af37?text=Android+Step+1">
                            <img class="slider-image" src="https://placehold.co/600x400/111/d4af37?text=Android+Step+2">
                        </div>
                        <button class="slider-btn" style="right:5px" onclick="moveSlide(event, 1)"><i class="fas fa-chevron-right"></i></button>
                        <button class="slider-btn" style="left:5px" onclick="moveSlide(event, -1)"><i class="fas fa-chevron-left"></i></button>
                        <div class="dots"><div class="dot active"></div><div class="dot"></div></div>
                    </div>
                </div>
                <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                    <div class="os-title"><div><i class="fab fa-apple"></i>آموزش آیفون</div><i class="fas fa-chevron-down toggle-arrow"></i></div>
                    <div class="slider" data-idx="0">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/600x400/111/d4af37?text=iOS+Step+1">
                            <img class="slider-image" src="https://placehold.co/600x400/111/d4af37?text=iOS+Step+2">
                        </div>
                        <button class="slider-btn" style="right:5px" onclick="moveSlide(event, 1)"><i class="fas fa-chevron-right"></i></button>
                        <button class="slider-btn" style="left:5px" onclick="moveSlide(event, -1)"><i class="fas fa-chevron-left"></i></button>
                        <div class="dots"><div class="dot active"></div><div class="dot"></div></div>
                    </div>
                </div>
                <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                    <div class="os-title"><div><i class="fab fa-windows"></i>آموزش ویندوز</div><i class="fas fa-chevron-down toggle-arrow"></i></div>
                    <div class="slider" data-idx="0">
                        <div class="slider-images">
                            <img class="slider-image" src="https://placehold.co/600x400/111/d4af37?text=PC+Step+1">
                            <img class="slider-image" src="https://placehold.co/600x400/111/d4af37?text=PC+Step+2">
                        </div>
                        <button class="slider-btn" style="right:5px" onclick="moveSlide(event, 1)"><i class="fas fa-chevron-right"></i></button>
                        <button class="slider-btn" style="left:5px" onclick="moveSlide(event, -1)"><i class="fas fa-chevron-left"></i></button>
                        <div class="dots"><div class="dot active"></div><div class="dot"></div></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="glass-section">
            <h2><i class="fas fa-server"></i>سرورهای رایگان</h2>
            <div class="os-box accordion-item" onclick="toggleAccordion(this)">
                <div class="os-title">
                    <div><i class="fas fa-bolt"></i>مشاهده و کپی سرورها</div>
                    <i class="fas fa-chevron-down toggle-arrow"></i>
                </div>
                <div style="padding: 10px;">
                    <textarea id="serverList" class="server-area" readonly placeholder="در حال دریافت سرورهای جدید..."></textarea>
                    <button class="app-button" onclick="copyServers(event)" id="copyBtn">
                        <i class="fas fa-copy"></i> کپی تمامی سرورها
                    </button>
                    <span class="refresh-note">
                        ⚠️ حتما برای دریافت سرورهای جدید، صفحه را <b>رفرش (Refresh)</b> کنید تا لیست جدید برایتان بارگذاری شود.
                    </span>
                </div>
            </div>
        </section>
    </main>

    <div class="dock-container">
        <div class="dock-wrapper">
            <div class="dock-item" onclick="window.open('https://t.me/FLOKI000')"><i class="fab fa-telegram-plane"></i></div>
            <div class="dock-item" onclick="window.open('https://t.me/FLOKI000')"><i class="fas fa-headset"></i></div>
            <div class="dock-item" onclick="openModal('shareModal')"><i class="fas fa-share-nodes"></i></div>
        </div>
    </div>

    <div class="modal-overlay" id="shareModal" onclick="if(event.target===this)this.style.display='none'">
        <div class="modal-box">
            <div class="modal-header">اشتراک‌گذاری</div>
            <div style="padding: 20px;">
                <div style="display:flex; background:#000; padding:10px; border-radius:12px; border:1px solid #333;">
                    <input type="text" value="https://canfigvpn.github.io/web/" id="linkVal" readonly style="flex:1; background:none; border:none; color:var(--gold-primary); font-size:12px;">
                    <button onclick="copyLink()" style="background:var(--gold-primary); border:none; padding:5px 10px; border-radius:8px; cursor:pointer; font-weight:bold;">کپی</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // دریافت سرورها از لینک
        async function fetchServers() {
            const serverField = document.getElementById('serverList');
            try {
                const response = await fetch('https://falling-mode-ef69.46354516821311111111231110.workers.dev/');
                const data = await response.text();
                serverField.value = data.trim();
            } catch (e) {
                serverField.value = "خطا در بروزرسانی. لطفا دوباره تلاش کنید.";
            }
        }

        // کپی سرورها
        function copyServers(e) {
            e.stopPropagation();
            const serverField = document.getElementById('serverList');
            const btn = document.getElementById('copyBtn');
            if(serverField.value) {
                navigator.clipboard.writeText(serverField.value);
                btn.innerHTML = '<i class="fas fa-check"></i> کپی شد!';
                setTimeout(() => btn.innerHTML = '<i class="fas fa-copy"></i> کپی تمامی سرورها', 2000);
            }
        }

        // کنترل آکاردئون
        function toggleAccordion(element) {
            if (event.target.closest('a, button, .slider, textarea')) return;
            const isActive = element.classList.contains('active');
            // بستن سایر آکاردئون‌های هم‌ردیف
            const parent = element.parentElement;
            parent.querySelectorAll('.accordion-item').forEach(item => item.classList.remove('active'));
            if (!isActive) element.classList.add('active');
        }

        // اسلایدر
        function moveSlide(e, dir) {
            e.stopPropagation();
            const slider = e.target.closest('.slider');
            const container = slider.querySelector('.slider-images');
            const dots = slider.querySelectorAll('.dot');
            const imgs = container.querySelectorAll('img');
            let idx = parseInt(slider.dataset.idx || 0);
            idx = (idx + dir + imgs.length) % imgs.length;
            container.style.transform = `translateX(${idx * 100}%)`;
            slider.dataset.idx = idx;
            dots.forEach((d, i) => d.classList.toggle('active', i === idx));
        }

        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function copyLink() {
            const input = document.getElementById('linkVal');
            navigator.clipboard.writeText(input.value);
            event.target.innerText = 'انجام شد';
            setTimeout(() => event.target.innerText = 'کپی', 2000);
        }

        window.onload = fetchServers;
    </script>
</body>
</html>
